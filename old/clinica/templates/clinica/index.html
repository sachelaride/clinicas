

{% extends 'clinica/base.html' %} {# Estende o template base para herdar a estrutura e estilos #}
{% load static %} {# Carrega as tags de template para lidar com arquivos estáticos #}

{% block title %}Sistema de Clínicas - Página Inicial{% endblock %} {# Define o título específico da página #}

{% block content %} {# Início do bloco de conteúdo principal da página #}
<div class="container-fluid"> {# Contêiner fluido para ocupar toda a largura disponível #}
    <div class="row"> {# Início da linha principal #}
        <div class="col-12"> {# Coluna de largura total #}
            {# Título principal da página #}
            <h1 class="mb-4">Sistema de Clínicas</h1>
            
            {# Verifica se o usuário está autenticado #}
            {% if user.is_authenticated %}
                {# Alerta de boas-vindas para usuários autenticados #}
                <div class="alert alert-info"> {# Alerta informativo do Bootstrap #}
                    <strong>Bem-vindo, {{ user.username }}!</strong><br> {# Exibe o nome de usuário #}
                    Perfil: {{ user.get_perfil_display }}<br> {# Exibe o perfil do usuário de forma amigável #}
                    Clínica: {{ user.clinica.nome|default:"Não definida" }} {# Exibe a clínica do usuário, ou "Não definida" se não houver #}
                </div>
                
                <div class="row"> {# Linha para os cards de funcionalidades principais #}
                    {# Card de Agendamentos #}
                    <div class="col-md-4 mb-3"> {# Coluna de 4 unidades em telas médias e maiores, com margem inferior #}
                        <div class="card"> {# Componente de card do Bootstrap #}
                            <div class="card-header bg-primary text-white"> {# Cabeçalho do card com fundo primário e texto branco #}
                                <h5 class="card-title mb-0">Agendamentos</h5> {# Título do card #}
                            </div>
                            <div class="card-body"> {# Corpo do card #}
                                <p class="card-text">Gerencie agendamentos com calendário interativo</p> {# Descrição da funcionalidade #}
                                <a href="{% url 'clinica:agendamento_calendario' %}" class="btn btn-primary btn-sm">Calendário</a> {# Botão para o calendário de agendamentos #}
                                <a href="{% url 'clinica:agendamento_list' %}" class="btn btn-outline-primary btn-sm">Lista</a> {# Botão para a lista de agendamentos #}
                                <a href="{% url 'clinica:agendamento_create' %}" class="btn btn-success btn-sm">Novo</a> {# Botão para criar novo agendamento #}
                            </div>
                        </div>
                    </div>
                    
                    {# Card de Pacientes #}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h5 class="card-title mb-0">Pacientes</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Cadastro e gestão de pacientes da clínica</p>
                                <a href="{% url 'clinica:paciente_list' %}" class="btn btn-success btn-sm">Listar</a>
                                <a href="{% url 'clinica:paciente_create' %}" class="btn btn-outline-success btn-sm">Novo</a>
                            </div>
                        </div>
                    </div>
                    
                    {# Card de Prontuários #}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <div class="card-header bg-warning text-dark">
                                <h5 class="card-title mb-0">Prontuários</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Gestão de prontuários e documentos</p>
                                <a href="{% url 'clinica:prontuario_create' %}" class="btn btn-outline-warning btn-sm">Novo</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                {# Seção de Funcionalidades Específicas por Perfil (ex: Coordenador) #}
                {% if user.perfil == 'COORDENADOR' %}
                <div class="row mt-4">
                    <div class="col-12">
                        <h3>Funcionalidades de Coordenador</h3>
                    </div>
                    {# Card de Usuários #}
                    <div class="col-md-6 mb-3">
                        <div class="card">
                            <div class="card-header bg-info text-white">
                                <h5 class="card-title mb-0">Usuários</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Gestão de usuários da clínica</p>
                                <a href="{% url 'clinica:user_list' %}" class="btn btn-info btn-sm">Listar</a>
                                <a href="{% url 'clinica:user_create' %}" class="btn btn-outline-info btn-sm">Novo</a>
                            </div>
                        </div>
                    </div>
                    {# Card de Clínicas #}
                    <div class="col-md-6 mb-3">
                        <div class="card">
                            <div class="card-header bg-secondary text-white">
                                <h5 class="card-title mb-0">Clínicas</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Gestão de clínicas</p>
                                <a href="{% url 'clinica:clinica_list' %}" class="btn btn-secondary btn-sm">Listar</a>
                                <a href="{% url 'clinica:clinica_create' %}" class="btn btn-outline-secondary btn-sm">Nova</a>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
                
                {# Seção de Outras Funcionalidades (Gerais) #}
                <div class="row mt-4">
                    <div class="col-12">
                        <h3>Outras Funcionalidades</h3>
                    </div>
                    {# Card de Atendimentos #}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <div class="card-header bg-dark text-white">
                                <h5 class="card-title mb-0">Atendimentos</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Gestão de atendimentos</p>
                                <a href="{% url 'clinica:atendimento_list' %}" class="btn btn-dark btn-sm">Listar</a>
                                <a href="{% url 'clinica:atendimento_create' %}" class="btn btn-outline-dark btn-sm">Novo</a>
                            </div>
                        </div>
                    </div>
                    {# Card de Documentos #}
                    <div class="col-md-4 mb-3">
                        <div class="card">
                            <div class="card-header bg-danger text-white">
                                <h5 class="card-title mb-0">Documentos</h5>
                            </div>
                            <div class="card-body">
                                <p class="card-text">Upload e gestão de documentos</p>
                                <a href="{% url 'clinica:documento_list' %}" class="btn btn-danger btn-sm">Listar</a>
                                <a href="{% url 'clinica:documento_create' %}" class="btn btn-outline-danger btn-sm">Novo</a>
                            </div>
                        </div>
                    </div>
                </div>
                
            {% else %} {# Conteúdo exibido se o usuário NÃO estiver autenticado #}
                {# Alerta de acesso restrito #}
                <div class="alert alert-warning"> {# Alerta de aviso do Bootstrap #}
                    <h4>Acesso Restrito</h4> {# Título do alerta #}
                    <p>Você precisa fazer login para acessar o sistema.</p> {# Mensagem para o usuário #}
                    <a href="{% url 'clinica:login' %}" class="btn btn-primary">Fazer Login</a> {# Botão para redirecionar para a página de login #}
                </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %} {# Fim do bloco de conteúdo #}

